<?php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $ingredients = [];

    foreach ($_POST['name'] as $index => $name) {
        $ingredients[] = new Ingredient(
            $name,
            $_POST['capacity'][$index],
            $_POST['durability'][$index],
            $_POST['flavor'][$index],
            $_POST['texture'][$index],
            $_POST['calories'][$index]
        );
    }

    include_once '_a_cookies.php';
    $cookieRecipe = new CookieRecipe($ingredients);

    // Part One: Find the total score of the highest-scoring cookie
    $highestScore = $cookieRecipe->findBestCookieScore();
    echo "<h4>Part One: Highest Score = $highestScore</h4>";

    // Part Two: Find the total score of the highest-scoring cookie with 500 calories
    $targetCalories = 500;
    $highestScoreWithCalories = $cookieRecipe->findBestCookieScoreWithCalories($targetCalories);
    echo "<h4>Part Two: Highest Score with $targetCalories calories = $highestScoreWithCalories</h4>";
}